on run {input, parameters}	set cmdNvim to "nvim "	if application "iTerm" is running then		tell application "iTerm"			create window with default profile			if input is not {} then				set num to (count of input)				repeat with s from 2 to num					set cmd to "tmux new-window"					tell the current window						tell the current session to write text cmd					end tell				end repeat				repeat with s from 2 to num					tell application "Finder"						set filePath to quoted form of POSIX path of ((container of item s of input) as alias)					end tell					set filep to quoted form of POSIX path of (item s of input)					set cmd to " \"cd " & filePath & " && nvim " & filep & "\" "					set cmd to "tmux send -t " & s & cmd & "ENTER"					tell the current window						tell the current session to write text cmd					end tell				end repeat				tell application "Finder"					set filePath to quoted form of POSIX path of ((container of item 1 of input) as alias)				end tell				set filep to quoted form of POSIX path of (item 1 of input)				set cmd to " \"cd " & filePath & " && nvim " & filep & "\" "				set cmd to "tmux send -t " & 1 & cmd & "ENTER"				tell the current window					tell the current session to write text cmd				end tell			else				tell the current window					tell the current session to write text "nvim"				end tell			end if			activate		end tell	else		tell application "iTerm"						if input is not {} then				set num to (count of input)				repeat with s from 2 to num					set cmd to "tmux new-window"					tell the current window						tell the current session to write text cmd					end tell				end repeat				repeat with s from 2 to num					tell application "Finder"						set filePath to quoted form of POSIX path of ((container of item s of input) as alias)					end tell					set filep to quoted form of POSIX path of (item s of input)					set cmd to " \"cd " & filePath & " && nvim " & filep & "\" "					set cmd to "tmux send -t " & s & cmd & "ENTER"					tell the current window						tell the current session to write text cmd					end tell				end repeat				tell application "Finder"					set filePath to quoted form of POSIX path of ((container of item 1 of input) as alias)				end tell				set filep to quoted form of POSIX path of (item 1 of input)				set cmd to " \"cd " & filePath & " && nvim " & filep & "\" "				set cmd to "tmux send -t " & 1 & cmd & "ENTER"				tell the current window					tell the current session to write text cmd				end tell			else				tell the current window					tell the current session to write text "nvim"				end tell			end if			activate		end tell	end ifend run
